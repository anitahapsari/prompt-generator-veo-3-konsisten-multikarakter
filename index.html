<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aplikasi Prompter Konsisten Multikarakter</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #001f3f;
      color: #a2d9ff;
      margin: 0;
      padding: 2rem;
    }
    .container {
      max-width: 1100px;
      margin: auto;
      background: #003366;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      border-left: 10px solid #66ccff;
    }
    h1 {
      text-align: center;
      color: #66ccff;
      margin-bottom: 1.5rem;
    }
    form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem 2rem;
    }
    label {
      font-weight: bold;
      color: #66ccff;
      display: block;
      margin-bottom: 0.25rem;
    }
    textarea, select, input[type=text] {
      width: 100%;
      padding: 0.6rem;
      background: #001a33;
      border: 1px solid #ccc;
      border-radius: 6px;
      color: #a2d9ff;
    }
    button {
      background: #66ccff;
      color: #001f3f;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      display: block;
      margin: 2rem auto;
    }
    button:hover {
      background: #3399cc;
    }
    .output {
      display: flex;
      gap: 2rem;
      margin-top: 2rem;
      flex-wrap: wrap;
    }
    .output div {
      flex: 1 1 45%;
    }
    .output textarea {
      height: 400px;
      background: #002b4d;
      color: #a2d9ff;
      border: 1px solid #ccc;
      padding: 1rem;
    }
    @media (max-width: 768px) {
      form {
        grid-template-columns: 1fr;
      }
      .output div {
        flex: 1 1 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Aplikasi Prompter Konsisten Multikarakter</h1>
    <form id="promptForm"></form>
    <button onclick="generatePrompt()">Buat Prompt</button>
    <div class="output">
      <div>
        <h3>Prompt Bahasa Indonesia (dapat diedit)</h3>
        <textarea id="hasilID"></textarea>
      </div>
      <div>
        <h3>Final Prompt (English - tidak bisa diedit)</h3>
        <textarea id="hasilEN" readonly></textarea>
      </div>
    </div>
  </div>
  <script>
    const cameraOptions = [
      { en: "Static Shot", id: "Bidikan Statis" },
      { en: "Pan Left/Right", id: "Gerakan Pan Kiri/Kanan" },
      { en: "Tilt Up/Down", id: "Gerakan Tilt Atas/Bawah" },
      { en: "Zoom In/Out", id: "Zoom Masuk/Keluar" },
      { en: "Dolly In/Out", id: "Dolly Masuk/Keluar" },
      { en: "Tracking Shot", id: "Bidikan Mengikuti" },
      { en: "Crane Shot", id: "Bidikan Crane" },
      { en: "Handheld Camera", id: "Kamera Genggam" },
      { en: "Steadicam", id: "Steadicam" },
      { en: "POV Shot", id: "Sudut Pandang Karakter" },
      { en: "Overhead Shot", id: "Bidikan Atas" },
      { en: "3D Rotation", id: "Rotasi 3D" },
      { en: "Orbit Shot", id: "Orbit Mengelilingi" },
      { en: "First-person Walkthrough", id: "Pandangan Orang Pertama" },
      { en: "Cinematic Zoom", id: "Zoom Sinematik" }
    ];

    const form = document.getElementById("promptForm");
    const fields = [
      "Judul Scene",
      ...Array.from({length: 6}, (_, i) => `Deskripsi Karakter ${i+1}`),
      ...Array.from({length: 6}, (_, i) => `Detail Suara Karakter ${i+1}`),
      ...Array.from({length: 6}, (_, i) => `Aksi Karakter ${i+1}`),
      ...Array.from({length: 6}, (_, i) => `Ekspresi Karakter ${i+1}`),
      "Latar Tempat & Waktu",
      "Gerakan Kamera",
      "Pencahayaan",
      "Gaya Video",
      "Suasana Keseluruhan",
      "Suara Lingkungan",
      ...Array.from({length: 6}, (_, i) => `Dialog Karakter ${i+1}`),
      "Detail Tambahan"
    ];

    fields.forEach(labelText => {
      const label = document.createElement("label");
      label.textContent = labelText;
      form.appendChild(label);

      if (labelText === "Gerakan Kamera") {
        const select = document.createElement("select");
        cameraOptions.forEach(opt => {
          const option = document.createElement("option");
          option.value = opt.en;
          option.textContent = `${opt.en} (${opt.id})`;
          select.appendChild(option);
        });
        form.appendChild(select);
      } else {
        const textarea = document.createElement("textarea");
        textarea.placeholder = `Contoh narasi untuk ${labelText.toLowerCase()}...`;
        form.appendChild(textarea);
      }
    });

    function generatePrompt() {
      const inputs = form.querySelectorAll("textarea, select");
      let data = {};
      fields.forEach((field, i) => {
        data[field] = inputs[i]?.value || "";
      });

      const hasilID = `Judul: ${data["Judul Scene"]}\n\nDi latar ${data["Latar Tempat & Waktu"]}, enam karakter muncul dengan detail sebagai berikut:\n` +
        Array.from({length: 6}, (_, i) => `Karakter ${i+1}: ${data[`Deskripsi Karakter ${i+1}`]} (Suara: ${data[`Detail Suara Karakter ${i+1}`]}), sedang ${data[`Aksi Karakter ${i+1}`]} dengan ekspresi ${data[`Ekspresi Karakter ${i+1}`]}.\nDialog: ${data[`Dialog Karakter ${i+1}`]}`).join("\n\n") +
        `\n\nKamera: ${data["Gerakan Kamera"]}, pencahayaan: ${data["Pencahayaan"]}, gaya video: ${data["Gaya Video"]}.\nSuasana: ${data["Suasana Keseluruhan"]}.\nSuara lingkungan: ${data["Suara Lingkungan"]}.\n\nDetail tambahan: ${data["Detail Tambahan"]}`;

      const hasilEN = hasilID.replace("Judul:", "Title:")
        .replace(/Karakter (\d): (.*?) \(Suara: (.*?)\), sedang (.*?) dengan ekspresi (.*?)\.\nDialog: (.*?)(\n|$)/g,
        (_, num, desc, voice, act, exp, dialog) => `Character ${num}: ${desc} (voice: ${voice}), performing ${act} with expression ${exp}. Says: \"${dialog}\"\n`
      ).replace("Di latar", "In the setting of")
        .replace("Kamera:", "Camera:")
        .replace("pencahayaan:", "lighting:")
        .replace("gaya video:", "video style:")
        .replace("Suasana:", "Overall mood:")
        .replace("Suara lingkungan:", "Environmental sound:")
        .replace("Detail tambahan:", "Additional details:");

      document.getElementById("hasilID").value = hasilID;
      document.getElementById("hasilEN").value = hasilEN;
    }
  </script>
</body>
</html>
